{{- $variant := .Get 0 -}}
{{- $version := .Get 1 -}}
{{- if not $variant -}}
{{- warnf "'variant' (or 'root') missing on 'docs_home' %s" page.Path -}}
{{- if not hugo.IsProduction -}}
<div class="not-allowed variant">
    <div class="title">
        'variant' or 'root' missing on 'docs_home'.
    </div>
</div>
{{- end -}}
{{- end -}}
{{- if not $version -}}
{{- warnf "'version' missing on 'docs_home' %s" page.Path -}}
{{- if not hugo.IsProduction -}}
<div class="not-allowed variant">
    <div class="title">
        'version' missing on 'docs_home'.
    </div>
</div>
{{- end -}}
{{- end -}}
{{- if not (in .Site.Params.versions $version) -}}
{{- warnf "'version' %s is not one of %s" $version .Site.Params.versions -}}
{{- if not hugo.IsProduction -}}
<div class="not-allowed variant">
    <div class="title">
        'version' missing on 'docs_home'.
    </div>
</div>
{{- end -}}
{{- end -}}
{{- if eq $variant "root" -}}
https://www.union.ai/docs/{{- $version -}}
{{- else -}}
https://www.union.ai/docs/{{- $version -}}/{{- $variant -}}
{{- end -}}
